import{a as _,r,o as g,c as x,e as t,g as d,i as T,d as n,x as P,u as i,n as q,t as c,f as u,j as y,k as h}from"./app.caeeee48.js";import{d as E,e as I,f as M,b}from"./AppLayout.575085ec.js";const R={class:"d-flex justify-end"},S={class:"mt-4"},$={class:"ma-0 text-body-1 font-weight-bold"},D={class:"text-caption font-weight-medium"},O=d("br",null,null,-1),G={__name:"FeedCard",props:{currentindex:{type:Number,required:!0},size:{type:Number,required:!0},article:{type:Object,default:()=>({})},userfont:{default:()=>({})},itemtype:{default:()=>({})},titlebgcolor:{type:String}},setup(e){const m=e;m.article.category==="Bank Functions"||m.article.category;let a=_(!1),f=_("");const p=2e3;function k(v,o){h().props.value.auth.user?axios.post(v,{user_id:h().props.value.auth.user.id,article_id:o,category:m.article.category}).then(l=>{l.status&&(a.value=!0,f.value=l.data.message,b("/favourites"))}).catch(l=>{console.log("Error - "+l)}):b("/login")}return(v,o)=>{const l=r("v-btn"),C=r("v-card-title"),V=r("v-card-actions"),j=r("v-img"),w=r("v-card"),B=r("v-hover"),N=r("v-snackbar"),z=r("v-col");return g(),x(z,{cols:"12",md:e.size===2?6:e.size===3?4:void 0},{default:t(()=>[d("div",R,[e.itemtype=="favourite"?(g(),x(l,{key:0,position:"static",onClick:o[0]||(o[0]=s=>k("/api/unfavarticle",e.article.article_id)),icon:"mdi-heart",class:"text-red",variant:"text"})):T("",!0)]),n(B,null,{default:t(({isHovering:s,props:F})=>[n(w,P({elevation:s?12:2,class:{"on-hover":s}},F,{href:`./articles/${e.article.article_id}`}),{default:t(()=>[n(j,{src:i(E)(e.currentindex),height:"225px",cover:""},{default:t(()=>[n(C,{class:q(e.titlebgcolor?"text-h6 d-flex flex-column text-wrap justify-end "+e.titlebgcolor:"text-h6 bg-blue-grey-darken-1 d-flex flex-column text-wrap justify-end ")},{default:t(()=>[d("div",S,c(i(I)(e.article.title)),1),d("div",$,c(i(M)(e.article.title)),1),d("div",D,[u(c(e.article.author),1),O,u(c(e.article.date),1)])]),_:1},8,["class"]),n(V,{class:"h-100 d-flex justify-end pb-16"},{default:t(()=>[n(l,{variant:"text",rel:"noopener noreferrer"},{default:t(()=>[u(" Read More ")]),_:1})]),_:1})]),_:1},8,["src"])]),_:2},1040,["elevation","class","href"])]),_:1}),n(N,{modelValue:i(a),"onUpdate:modelValue":o[2]||(o[2]=s=>y(a)?a.value=s:a=s),timeout:p},{actions:t(()=>[n(l,{icon:"mdi-close",color:"grey",size:"x-small",onClick:o[1]||(o[1]=s=>y(a)?a.value=!1:a=!1)})]),default:t(()=>[u(c(i(f))+" ",1)]),_:1},8,["modelValue"])]),_:1},8,["md"])}}};export{G as _};
