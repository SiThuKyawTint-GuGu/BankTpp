import{A as ut,a as f,w as rt,r as s,o as p,c as j,e as l,d as e,u as t,j as A,f as r,t as c,b as L,F as M,h as R,x as dt,i as O,g as _,m as _t,H as ft,C as P,D as U}from"./app.caeeee48.js";import{h as K,o as mt,A as pt,e as E,f as F}from"./AppLayout.575085ec.js";import"./AppMenu.a3319549.js";const vt={key:0,class:"d-flex transition-fast-in-fast-out bg-orange-darken-2 v-card--reveal text-h2 pa-2",style:{height:"100%"}},bt={class:"font-weight-light text-grey text-h6 mb-2"},xt={class:"text-h4 font-weight-light text-orange mb-2"},gt={class:"font-weight-light text-h6 mb-2"},ht={key:0},I={__name:"LoansFeed",props:{loans_list:Array,page_text:Object},emits:["compareTwoLoans"],setup(q,{emit:v}){const a=q,B=ut(()=>m.value.length>0?"red":""),D=function(){if(m.value.length!==2)b.value=!0,N.value=w.value.fieldlabels.msg_select_two;else{let u=1;for(let o=0;o<m.value.length;o++){let n=C.value[m.value[o]];u===1?T.value=n.title:g.value=n.title;for(let k=0;k<n.conditions.length;k++){let $=y(n.conditions[k][0],x.value);$>0?x.value[$-1].bank2=n.conditions[k][1]:x.value.push({name:n.conditions[k][0],bank1:n.conditions[k][1],bank2:"NA"})}u++}v("compareTwoLoans",x,T.value,g.value)}};function y(u,o){for(let n=0;n<o.length;n++)if(o[n].name===u)return n+1}let x=f([]),T=f(""),g=f(""),i=f(!1),w=f(null),C=f([]),m=f([]),b=f(!1),N=f("");const h=2e3;rt(a,()=>{w.value=a.page_text,C.value=a.loans_list});function V(){m.value.splice(0,2),v("compareTwoLoans",null,"",""),window.scrollTo(0,0)}return(u,o)=>{const n=s("v-btn"),k=s("v-snackbar"),$=s("v-col"),z=s("v-row"),Q=s("v-icon"),G=s("v-expand-transition"),S=s("v-img"),W=s("v-card-text"),X=s("v-list-item"),Y=s("v-list"),Z=s("v-spacer"),tt=s("v-card-actions"),et=s("v-card"),lt=s("v-item"),at=s("v-item-group"),ot=s("v-container");return p(),j(ot,{fluid:""},{default:l(()=>[e(k,{modelValue:t(b),"onUpdate:modelValue":o[1]||(o[1]=d=>A(b)?b.value=d:b=d),timeout:h},{actions:l(()=>[e(n,{color:"blue",variant:"text",onClick:o[0]||(o[0]=d=>A(b)?b.value=!1:b=!1)},{default:l(()=>[r(" Close ")]),_:1})]),default:l(()=>[r(c(t(N))+" ",1)]),_:1},8,["modelValue"]),e(z,null,{default:l(()=>[e($,{align:"start",cols:"max-auto"},{default:l(()=>[e(n,{variant:"outlined",onClick:o[2]||(o[2]=d=>D()),color:t(B)},{default:l(()=>[r(" Compare ")]),_:1},8,["color"]),e(n,{variant:"outlined",onClick:o[3]||(o[3]=d=>V()),class:"ml-2"},{default:l(()=>[r(" Reset ")]),_:1}),e(n,{variant:"outlined",onClick:o[4]||(o[4]=d=>A(i)?i.value=!t(i):i=!t(i)),class:"ml-2"},{default:l(()=>[r(c(t(i)?"Brief":"Details"),1)]),_:1})]),_:1})]),_:1}),e(at,{max:2,modelValue:t(m),"onUpdate:modelValue":o[5]||(o[5]=d=>A(m)?m.value=d:m=d),multiple:""},{default:l(()=>[e(z,{"no-gutters":""},{default:l(()=>[(p(!0),L(M,null,R(t(C),(d,nt)=>(p(),j($,{class:"ma-2 pa-2 elevation-3",cols:"12",md:"2"},{default:l(()=>[(p(),j(lt,{key:nt},{default:l(({isSelected:H,toggle:st})=>[e(et,dt({class:H?"mx-auto fill-height bg-black":"mx-auto fill-height"},a,{onClick:st}),{default:l(()=>[e(S,{"aspect-ratio":16/9,src:d.avatar},{default:l(()=>[e(Q,{class:"ma-1",icon:H?"mdi-heart":"mdi-heart-outline",color:H?"red":""},null,8,["icon","color"]),e(G,null,{default:l(()=>[t(i)?(p(),L("div",vt,c(d.rate),1)):O("",!0)]),_:2},1024)]),_:2},1032,["src"]),e(W,{class:"pt-6",style:{position:"relative"}},{default:l(()=>[_("div",bt," Loan Tenor: "+c(d.tenor),1),_("h3",xt,c(d.title),1),_("div",gt,c(d.subtext),1)]),_:2},1024),e(G,null,{default:l(()=>[t(i)?(p(),L("div",ht,[e(Y,{class:"bg-transparent",lines:"three"},{default:l(()=>[(p(!0),L(M,null,R(d.conditions,([J,it],ct)=>(p(),j(X,{key:ct,title:it,"prepend-icon":"mdi-information",subtitle:t(K)(J,t(w).fieldlabels)},null,8,["title","subtitle"]))),128))]),_:2},1024)])):O("",!0)]),_:2},1024),e(tt,null,{default:l(()=>[e(Z),e(n,{onClick:J=>t(mt)(d.url),class:"ma-2",variant:"text",icon:"mdi-share",color:"red-lighten-2"},null,8,["onClick"])]),_:2},1024)]),_:2},1040,["class","onClick"])]),_:2},1024))]),_:2},1024))),256))]),_:1})]),_:1},8,["modelValue"])]),_:1})}}};const kt={key:0,id:"compareloans"},yt={class:"text-left font-weight-bold"},wt={class:"text-left font-weight-bold"},Ct={class:"text-left font-weight-bold"},Lt={id:"homeloans"},Tt={id:"autoloans"},Vt={id:"personalloans"},Bt={__name:"Loans",setup(q){let v=f("home"),a=f([]),B=f("Bank 1 Parent"),D=f("Bank 2 Parent");_t(()=>{let g="loans";axios.get(`/api/pages/${g}`).then(i=>{i.status&&(a.value=i.data.pagetext)})});let y=f([]);function x(g,i,w){B.value=i,D.value=w,y.value.splice(0,15),g&&y.value.splice(0,0,...g.value),window.scrollTo(0,0)}function T(){y.value.splice(0,15)}return(g,i)=>{const w=s("v-alert"),C=s("v-icon"),m=s("v-tab"),b=s("v-tabs"),N=s("v-table"),h=s("v-card-title"),V=s("v-card");return p(),j(pt,null,{default:l(()=>[e(t(ft),{title:"Loans"}),e(w,{border:"start",color:"secondary",density:"compact",icon:"mdi-clock-fast",title:t(a).title,variant:"elevated"},{default:l(()=>[r(c(t(a).subtitle),1)]),_:1},8,["title"]),e(V,null,{default:l(()=>[e(b,{modelValue:t(v),"onUpdate:modelValue":i[0]||(i[0]=u=>A(v)?v.value=u:v=u),"bg-color":"primary","align-tabs":"center"},{default:l(()=>[e(m,{value:"home",onClick:T},{default:l(()=>[e(C,null,{default:l(()=>[r("mdi-home")]),_:1}),r(" Home ")]),_:1}),e(m,{value:"auto",onClick:T},{default:l(()=>[e(C,null,{default:l(()=>[r("mdi-car")]),_:1}),r(" Auto ")]),_:1}),e(m,{value:"personal",onClick:T},{default:l(()=>[e(C,null,{default:l(()=>[r("mdi-currency-usd")]),_:1}),r(" Personal ")]),_:1})]),_:1},8,["modelValue"]),t(y).length>0?(p(),L("section",kt,[e(N,{"fixed-header":"",class:"my-4"},{default:l(()=>[_("thead",null,[_("tr",null,[_("th",yt,[_("div",null,c(t(a).fieldlabels?t(E)(t(a).fieldlabels.attributes):""),1),_("div",null,c(t(a).fieldlabels?t(F)(t(a).fieldlabels.attributes):""),1)]),_("th",wt,c(t(B)),1),_("th",Ct,c(t(D)),1)])]),_("tbody",null,[(p(!0),L(M,null,R(t(y),u=>(p(),L("tr",{key:u.name},[_("td",null,c(t(K)(u.name,t(a).fieldlabels)),1),_("td",null,c(u.bank1),1),_("td",null,c(u.bank2),1)]))),128))])]),_:1})])):O("",!0),P(_("section",Lt,[e(V,{color:"secondary",class:"py-6"},{default:l(()=>[e(h,{class:"text-center justify-center text-h4"},{default:l(()=>[r(c(t(a).fieldlabels?t(E)(t(a).fieldlabels.home_loans):""),1)]),_:1}),e(h,{class:"text-center justify-center text-h5 pb-2"},{default:l(()=>[r(c(t(a).fieldlabels?t(F)(t(a).fieldlabels.home_loans):""),1)]),_:1})]),_:1}),e(I,{onCompareTwoLoans:i[1]||(i[1]=(u,o,n)=>x(u,o,n)),loans_list:t(a).itemList1,page_text:t(a)},null,8,["loans_list","page_text"])],512),[[U,t(v)==="home"]]),P(_("section",Tt,[e(V,{color:"secondary",class:"py-6"},{default:l(()=>[e(h,{class:"text-center justify-center text-h4"},{default:l(()=>[r(c(t(a).fieldlabels?t(E)(t(a).fieldlabels.auto_loans):""),1)]),_:1}),e(h,{class:"text-center justify-center text-h5 pb-2"},{default:l(()=>[r(c(t(a).fieldlabels?t(F)(t(a).fieldlabels.auto_loans):""),1)]),_:1})]),_:1}),e(I,{onCompareTwoLoans:i[2]||(i[2]=(u,o,n)=>x(u,o,n)),loans_list:t(a).itemList3,page_text:t(a)},null,8,["loans_list","page_text"])],512),[[U,t(v)==="auto"]]),P(_("section",Vt,[e(V,{color:"secondary",class:"py-6"},{default:l(()=>[e(h,{class:"text-center justify-center text-h4"},{default:l(()=>[r(c(t(a).fieldlabels?t(E)(t(a).fieldlabels.personal_loans):""),1)]),_:1}),e(h,{class:"text-center justify-center text-h5 pb-2"},{default:l(()=>[r(c(t(a).fieldlabels?t(F)(t(a).fieldlabels.personal_loans):""),1)]),_:1})]),_:1}),e(I,{onCompareTwoLoans:i[3]||(i[3]=(u,o,n)=>x(u,o,n)),loans_list:t(a).itemList2,page_text:t(a)},null,8,["loans_list","page_text"])],512),[[U,t(v)==="personal"]])]),_:1})]),_:1})}}};export{Bt as default};
