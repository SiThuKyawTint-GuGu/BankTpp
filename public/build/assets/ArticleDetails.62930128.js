import{c as b,r as de,g as D,o as q,a as K,b as G,A as ue}from"./AppLayout.575085ec.js";import{r as a,o as n,c as _,a as $,w as P,b as f,d as e,e as t,f as g,t as u,u as o,g as k,n as X,F as V,h as A,i as w,j as J,k as I,l as _e,m as ve,H as me}from"./app.caeeee48.js";import{_ as Q}from"./AppMenu.a3319549.js";const fe={name:"BaseBubble1"};function ge(i,r,p,y,v,m){const c=a("v-img");return n(),_(c,{class:"grow hidden-sm-and-down",contain:"","max-height":"200",width:"100%",position:"top right",src:"../img/bubbles1.png"})}const pe=Q(fe,[["render",ge]]),he={name:"BaseBubble2"};function be(i,r,p,y,v,m){const c=a("v-img");return n(),_(c,{class:"grow hidden-sm-and-down",contain:"","max-height":"200",width:"100%",position:"bottom left",src:"../img/bubbles2.png"})}const we=Q(he,[["render",be]]),ye={id:"articleview",class:"overflow-hidden"},xe={class:"caption"},ke={class:"text-h6 font-weight-light"},$e={class:"d-flex align-center justify-center fill-height"},Ce={class:"text-h5"},je=["src"],Be=["src"],Ve=["id"],Ae=["textContent"],Re={class:"py-4"},ze={__name:"ArticleView",props:{selected_article_index:Number,article:Object,article_is_fav:Boolean},setup(i){const r=i,p=$(!1),y="primary";let v=$([]),m=$(!1),c=$(!1),R=$("");const M=2e3;P(r,()=>{m.value=r.article_is_fav});function F(C){let s="/api/addfavarticle";m.value&&(s="/api/unfavarticle"),N(s,C)}function N(C,s){I().props.value.auth.user?axios.post(C,{user_id:I().props.value.auth.user.id,article_id:s,category:r.article.category}).then(d=>{d.status&&(m.value=!m.value,c.value=!0,R.value=d.data.message)}).catch(d=>{console.log("Error - "+d)}):G("/login")}function z(C){axios.get(`/api/articles/category/${C}`).then(s=>{s.status&&(v.value=s.data.articles)})}return(C,s)=>{const d=a("v-btn"),x=a("v-col"),j=a("v-row"),O=a("v-chip"),U=a("v-spacer"),h=a("v-card-actions"),T=a("v-list-subheader"),H=a("v-avatar"),Y=a("v-list-item"),Z=a("v-list"),S=a("v-card"),ee=a("v-menu"),te=a("v-progress-circular"),L=a("v-img"),le=a("v-parallax"),ae=a("v-card-text"),oe=a("v-divider"),ne=a("v-timeline-item"),ie=a("v-timeline"),se=a("v-card-title"),ce=a("v-card-subtitle"),re=a("v-snackbar");return n(),f("section",ye,[e(j,null,{default:t(()=>[e(x,null,{default:t(()=>[e(d,{size:"small",rounded:"pill",color:"secondary",href:"/articles"},{default:t(()=>[g(" Return to Articles ")]),_:1})]),_:1})]),_:1}),e(j,{align:"center",justify:"center"},{default:t(()=>[e(x,{class:"text-h4 font-weight-light"},{default:t(()=>[g(u(o(b)(i.article.title))+" ",1),e(O,{class:"ma-2",size:"small",color:y,variant:"elevated","text-color":"white"},{default:t(()=>[g(u(i.article.category),1)]),_:1})]),_:1})]),_:1}),e(j,{align:"center",justify:"center"},{default:t(()=>[e(x,null,{default:t(()=>[k("span",xe,u(o(b)(i.article.date)),1)]),_:1}),e(x,{align:"end"},{default:t(()=>[e(d,{variant:"text",class:X(o(m)?"text-red":""),icon:"mdi-heart",onClick:s[0]||(s[0]=l=>F(i.article.article_id))},null,8,["class"]),e(d,{id:"menu-activator",color:y,variant:"text",icon:"mdi-file-document-multiple",onClick:s[1]||(s[1]=l=>z(i.article.category))}),e(ee,{activator:"#menu-activator"},{default:t(()=>[e(S,{"min-width":"300"},{default:t(()=>[e(h,null,{default:t(()=>[e(U),e(d,{color:"primary",variant:"text",onClick:s[2]||(s[2]=l=>p.value=!1)},{default:t(()=>[g(" Close ")]),_:1})]),_:1}),e(Z,null,{default:t(()=>[e(T,null,{default:t(()=>[g("Related Articles")]),_:1}),(n(!0),f(V,null,A(o(v),(l,B)=>(n(),_(Y,{key:B,onClick:E=>o(de)(l.article_id),title:l.title,subtitle:l.category},{prepend:t(()=>[e(H,{image:o(D)(l.image),size:"48"},null,8,["image"])]),_:2},1032,["onClick","title","subtitle"]))),128))]),_:1})]),_:1})]),_:1}),e(d,{variant:"text",icon:"mdi-facebook",color:"indigo",onClick:s[3]||(s[3]=l=>o(q)(i.article.url))})]),_:1})]),_:1}),e(j,{align:"center",justify:"center"},{default:t(()=>[e(x,{cols:"12"},{default:t(()=>[k("div",ke,u(o(b)(i.article.brief)),1),e(L,{src:o(D)(i.article.image)},{placeholder:t(()=>[k("div",$e,[e(te,{indeterminate:"",color:"grey-lighten-4"})])]),_:1},8,["src"])]),_:1})]),_:1}),(n(!0),f(V,null,A(i.article.content,(l,B)=>(n(),_(j,{class:"mt-5",key:B},{default:t(()=>[e(x,{class:"hidden-sm-and-down",md:"5"},{default:t(()=>[e(le,{height:"100%",src:o(K)()},null,8,["src"])]),_:1}),e(x,{class:"align-content-space-between layout wrap",cols:"12",md:"7"},{default:t(()=>[e(pe,{style:{transform:"rotate(180deg) translateX(25%)"}}),e(j,{align:"center",justify:"center"},{default:t(()=>[e(x,{cols:"11"},{default:t(()=>[k("div",Ce,u(o(b)(l.subtitle)),1),l.ref_image?(n(),_(L,{key:0,onClick:E=>o(q)(l.ref_url),class:"ma-1","max-width":"400",src:o(D)(l.ref_image)},null,8,["onClick","src"])):w("",!0),l.ref_video?(n(),f("iframe",{key:1,class:"ma-1",width:"400",height:"315",src:l.ref_video,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,je)):w("",!0),l.ref_slide?(n(),f("iframe",{key:2,src:`https://www.slideshare.net/slideshow/embed_code/key/${l.ref_slide}`,width:"427",height:"356",frameborder:"0",marginwidth:"0",marginheight:"0",scrolling:"no",style:{border:"1px solid #CCC","border-width":"1px","margin-bottom":"5px","max-width":"100%"},allowfullscreen:""},null,8,Be)):w("",!0),k("div",{id:`subcaption-${B}`,class:"caption mb-2"},u(o(b)(l.ref_title)),9,Ve),(n(!0),f(V,null,A(l.text_blocks,(E,W)=>(n(),f("div",{class:"text-body-1 font-weight-light py-2",key:W},u(o(b)(E)),1))),128))]),_:2},1024)]),_:2},1024),B===i.article.content.length-1?(n(),_(we,{key:0,style:{transform:"rotate(180deg) translateX(25%)"}})):w("",!0),B===i.article.content.length-1?(n(),_(ae,{key:1},{default:t(()=>[e(U)]),_:1})):w("",!0)]),_:2},1024)]),_:2},1024))),128)),i.article.timeline?(n(),_(oe,{key:0})):w("",!0),i.article.timeline?(n(),_(ie,{key:1},{default:t(()=>[(n(!0),f(V,null,A(i.article.timeline,(l,B)=>(n(),_(ne,{key:B,color:l.color,small:""},{opposite:t(()=>[k("span",{class:X(`headline font-weight-bold ${l.color}--text`),textContent:u(l.title)},null,10,Ae)]),default:t(()=>[k("div",Re,[k("h3",{class:X(`headline font-weight-light mb-4 ${l.color}--text`)},u(o(b)(l.subtitle)),3),(n(!0),f(V,null,A(l.text_blocks,(E,W)=>(n(),f("div",{class:"text-body-1 font-weight-light py-2",key:W},u(o(b)(E)),1))),128)),l.ref_url?(n(),_(d,{key:0,onClick:E=>o(G)(l.ref_url),color:l.color,class:"mx-0",outlined:""},{default:t(()=>[g(" Read More ")]),_:2},1032,["onClick","color"])):w("",!0)])]),_:2},1032,["color"]))),128))]),_:1})):w("",!0),i.article.drawio?(n(!0),f(V,{key:2},A(i.article.drawio,l=>(n(),_(S,{key:l.src,elevation:"2"},{default:t(()=>[e(se,{class:"d-flex justify-center"},{default:t(()=>[g(u(o(b)(l.title)),1)]),_:2},1024),e(ce,null,{default:t(()=>[g(u(o(b)(l.subtitle)),1)]),_:2},1024),e(L,{src:o(D)(l.src)},null,8,["src"])]),_:2},1024))),128)):w("",!0),e(re,{modelValue:o(c),"onUpdate:modelValue":s[5]||(s[5]=l=>J(c)?c.value=l:c=l),timeout:M},{actions:t(()=>[e(d,{icon:"mdi-close",color:"grey",size:"x-small",onClick:s[4]||(s[4]=l=>J(c)?c.value=!1:c=!1)})]),default:t(()=>[g(u(o(R))+" ",1)]),_:1},8,["modelValue"])])}}},Ee={key:0,id:"recent-projects",class:"overflow-hidden"},Fe=k("div",{class:"text-h4 mb-3"},"Extended Reading",-1),Ie={class:"text-h6 mb-3 font-weight-light"},Ne={class:"mb-5 text-body-1 font-weight-light"},Ue={__name:"ArticleDocs",props:{article:Object},setup(i){const r=i,p=$(!1),y=$(null);let v=$(r.article.documents?r.article.documents.length>0:!1);return(m,c)=>{const R=a("v-divider"),M=a("v-card-title"),F=a("v-img"),N=a("v-spacer"),z=a("v-btn"),C=a("v-card-actions"),s=a("v-card"),d=a("v-col"),x=a("v-row"),j=a("v-container"),O=a("v-icon"),U=a("v-dialog");return o(v)?(n(),f("section",Ee,[e(R,{class:"my-2"}),e(x,{justify:"space-between"},{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[Fe,k("div",Ie,u(o(b)(i.article.docsbrief)),1),k("div",Ne,u(o(b)(i.article.docslist)),1),e(j,{fluid:""},{default:t(()=>[e(x,{dense:""},{default:t(()=>[(n(!0),f(V,null,A(i.article.documents,(h,T)=>(n(),_(d,{key:h.title,cols:T==0?12:6},{default:t(()=>[e(s,null,{default:t(()=>[e(F,{src:o(K)(),class:"align-end",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px",cover:""},{default:t(()=>[e(M,{class:"text-white",textContent:u(h.title)},null,8,["textContent"])]),_:2},1032,["src"]),e(C,null,{default:t(()=>[e(N),h.file?(n(),_(z,{key:0,class:"ml-2",variant:"outlined",size:"small",onClick:_e(H=>(p.value=!0,y.value=`../assets/articles/${h.file}`),["stop"])},{default:t(()=>[g(" VIEW ")]),_:2},1032,["onClick"])):w("",!0),h.url?(n(),_(z,{key:1,class:"ml-2",variant:"outlined",size:"small",onClick:H=>m.redirect_to_url(h.url)},{default:t(()=>[g(" VIEW ")]),_:2},1032,["onClick"])):w("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1032,["cols"]))),128))]),_:1})]),_:1}),e(U,{modelValue:p.value,"onUpdate:modelValue":c[2]||(c[2]=h=>p.value=h),"max-width":"100%"},{default:t(()=>[e(s,{class:"text-center",color:"primary"},{default:t(()=>[e(F,{src:y.value},{default:t(()=>[e(z,{class:"mt-5",onClick:c[0]||(c[0]=h=>p.value=!1),color:"secondary",dark:"",fab:"",absolute:"",top:"",right:"",small:""},{default:t(()=>[e(O,null,{default:t(()=>[g("mdi-close-outline")]),_:1})]),_:1})]),_:1},8,["src"]),e(N),e(z,{color:"secondary",text:"",onClick:c[1]||(c[1]=h=>p.value=!1)},{default:t(()=>[g(" Close ")]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{class:"hidden-sm-and-down",md:"6"},{default:t(()=>[e(F,{src:"../img/documents.png",height:"100%"})]),_:1})]),_:1})])):w("",!0)}}},Te={__name:"ArticleDetails",setup(i){let r=$([]),p=$(!1),y=$(!0);return P(r,v=>{!v||setTimeout(()=>y.value=!1,3e3)}),ve(()=>{axios.post("/api/getarticlewithfav",{article_id:I().props.value.articleid,user_id:I().props.value.auth.user?I().props.value.auth.user.id:0}).then(v=>{v.status&&(r.value=v.data.articles,p.value=v.data.isfav,r.value.processjson&&axios.get(`/api/articles/${r.value.processjson}`).then(m=>{m.status&&(r.value.drawio=m.data.articles.drawio,r.value.timeline=m.data.articles.timeline)}))}).catch(v=>{console.log("Error - "+v)})}),(v,m)=>{const c=a("v-progress-linear"),R=a("v-container");return n(),_(ue,null,{default:t(()=>[e(o(me),{title:o(r).title},null,8,["title"]),e(c,{active:o(y),indeterminate:o(y),color:"secondary"},null,8,["active","indeterminate"]),e(R,null,{default:t(()=>[e(ze,{article:o(r),article_is_fav:o(p)},null,8,["article","article_is_fav"]),e(Ue,{article:o(r)},null,8,["article"])]),_:1})]),_:1})}}};export{Te as default};
